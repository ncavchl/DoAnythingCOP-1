---
작성일 : 2020-09-13
docker version : 19.03.12
---

[TOC]

---

## Docker 설치하기

```bash
curl -s https://get.docker.com | sudo sh  # 리눅스 배포판에 따라 자동으로 최신 도커 설치
sudo usermod -aG docker ubuntu			  # ubuntu 경우 유저권한 추가
```

### 설치 확인

```bash
$ docker version
```

![image-20200913220433604](img/ch02_%EC%84%A4%EC%B9%98%EB%B6%80%ED%84%B0%20%EC%8B%A4%ED%96%89%EA%B9%8C%EC%A7%80%20%ED%95%84%EA%B8%B0/image-20200913220433604.png)

> ![image-20200915164121717](img/ch02_%EC%84%A4%EC%B9%98%EB%B6%80%ED%84%B0%20%EC%8B%A4%ED%96%89%EA%B9%8C%EC%A7%80%20%ED%95%84%EA%B8%B0/image-20200915164121717.png)
>
> localhost에 docker server가 띄어져 있고 명령어는 client를 통해 실행



## Docker 기본 명령어 

### - `run`

#### 컨테이너 실행 및 옵션

```bash
$ docker run [OPTIONS] IMAGE[:TAG|@DIGEST] [COMMAND] [ARG...]
```

|  OPTIONS  |                        설명                        |
| :-------: | :------------------------------------------------: |
|    -d     |          detached mode (백그라운드 모드)           |
|    -p     |          호스트와 컨테이너의 포트를 연결           |
|    -v     |         호스트와 컨테이너의 디렉토리 연결          |
|    -e     |        컨테이너 내에서 사용할 환경변수 설정        |
|  --name   |                 컨테이너 이름 설정                 |
|   --rm    |         프로세스 종료시 컨테이너 자동제거          |
|    -it    | -i -t 동시에 사용한 것으로 터미널 입력을 위한 옵션 |
| --network |                   네트워크 연결                    |



#### 실습

```bash
$ docker run ubuntu:20.04
```

![image-20200915165100199](img/ch02_%EC%84%A4%EC%B9%98%EB%B6%80%ED%84%B0%20%EC%8B%A4%ED%96%89%EA%B9%8C%EC%A7%80%20%ED%95%84%EA%B8%B0/image-20200915165100199.png)

- 기존에 이미지가 존재하면 실행
- 없으면 다운로드 후(pull) 컨테이너 생성(create)하고 실행(start)
- 뭘 하라는 명령어 전달이 없어 생성되자 마자 종료.



```bash
$ docker run --rm -it ubuntu:20.04 /bin/sh
```

![image-20200915165336467](img/ch02_%EC%84%A4%EC%B9%98%EB%B6%80%ED%84%B0%20%EC%8B%A4%ED%96%89%EA%B9%8C%EC%A7%80%20%ED%95%84%EA%B8%B0/image-20200915165336467.png)

- `--rm` : 컨테이너가 종료되면 삭제됨
- `-it` : 컨테이너 내부에서 키보드 입력 가능



```bash
$ docker run --rm -it centos:8 /bin/sh
```

![image-20200915165639009](img/ch02_%EC%84%A4%EC%B9%98%EB%B6%80%ED%84%B0%20%EC%8B%A4%ED%96%89%EA%B9%8C%EC%A7%80%20%ED%95%84%EA%B8%B0/image-20200915165639009.png)

- 다양한 리눅스 배포판 실행 가능
- 공통점은 모두 동일한 커널 사용
- 다른 기능 필요없으면 alpine 사용하면 됨



```bash
$ docker run --rm -p 5678:5678 hashicorp/http-echo -text="hello world"
```



### - `ps, stop, rm, logs, images...`



### - `volume`



## Docker Compose 기본





## [개인실습] nginx 컨테이너 만들기





## [개인실습] php cli 컨테이너 실행하기

